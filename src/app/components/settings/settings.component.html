<div class="settings-page">
    <div class="table-wrapper">
        <h2 class="table-title-wrapper">
            <span class="table-title">Categories</span>
            <button matIconButton (click)="setCategory()">
                <mat-icon>add</mat-icon>
            </button>
        </h2>

        <table mat-table [dataSource]="categories()">
            <tr mat-header-row *matHeaderRowDef="categoryColumns"></tr>
            <tr mat-row *matRowDef="let element; columns: categoryColumns;"></tr>

            <ng-container [matColumnDef]="categoryColumns[0]">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
            </ng-container>

            <ng-container [matColumnDef]="categoryColumns[1]">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
                <td mat-cell *matCellDef="let element"> {{ element.type ? 'Expense' : 'Income' }} </td>
            </ng-container>

            <ng-container [matColumnDef]="categoryColumns[2]">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Icon </th>
                <td mat-cell *matCellDef="let element">
                    @if (element.icon) {
                    <mat-icon>{{ element.icon }}</mat-icon>
                    }
                </td>
            </ng-container>

            <ng-container [matColumnDef]="categoryColumns[3]">
                <th mat-header-cell *matHeaderCellDef [style.width]="'125px'">&nbsp;</th>
                <td mat-cell *matCellDef="let element" [style.width]="'125px'">
                    <button matIconButton (click)="setCategory(element)">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <button matIconButton (click)="deleteCategory(element.id)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>
        </table>
    </div>

    <div class="table-wrapper">
        <h2 class="table-title-wrapper">
            <span class="table-title">Methods</span>
            <button matIconButton (click)="setMethod()">
                <mat-icon>add</mat-icon>
            </button>
        </h2>

        <table mat-table [dataSource]="methods()">
            <tr mat-header-row *matHeaderRowDef="methodColumns"></tr>
            <tr mat-row *matRowDef="let element; columns: methodColumns;"></tr>

            <ng-container [matColumnDef]="methodColumns[0]">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
            </ng-container>

            <ng-container [matColumnDef]="methodColumns[1]">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Icon </th>
                <td mat-cell *matCellDef="let element">
                    @if (element.icon) {
                    <mat-icon>{{ element.icon }}</mat-icon>
                    }
                </td>
            </ng-container>

            <ng-container [matColumnDef]="methodColumns[2]">
                <th mat-header-cell *matHeaderCellDef [style.width]="'125px'">&nbsp;</th>
                <td mat-cell *matCellDef="let element" [style.width]="'125px'">
                    <button matIconButton (click)="setMethod(element)">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <button matIconButton (click)="deleteMethod(element.id)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>
        </table>
    </div>
</div>